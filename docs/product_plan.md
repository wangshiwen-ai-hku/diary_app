# 情侣AI日记本 - 完整产品方案

## 产品定位
**"我们的故事" - AI辅助的情侣专属回忆录**

不是聊天工具，不是导入记录，而是：
- 主动记录美好瞬间
- AI帮你润色成精美日记
- 从日常到高光时刻，完整记录恋爱历程

---

## 核心功能模块

### 1. 快速记录（日常使用 - 高频）
```
场景：每天睡前
操作：
1. 选择记录类型：
   - 📝 日常随笔（今天和TA...）
   - 💕 甜蜜时刻
   - 🎉 特殊事件
   - 😢 小吵小闹

2. 输入简短内容（50-200字）
   "今天他给我买了奶茶，还记得少糖"

3. 可选添加：
   - 照片（1-9张）
   - 心情标签
   - 地点

4. AI处理：
   - 自动扩写成完整日记（300-500字）
   - 可选风格：温馨/诗意/搞笑/真实
   - 双人视角自动生成
```

### 2. 高光时刻（重要场景 - 低频高价值）
```
特殊场景：
- 🎂 纪念日/生日
- ✈️ 旅行记录
- 💍 重要时刻（表白/求婚等）
- 🏠 第一次（第一次见面/第一次旅行等）
- 🌈 和解记录

功能增强：
- 支持更多照片（无限张）
- 长文本输入
- 多段描述合成
- 精美模板套用
- 可生成海报/视频
```

### 3. 异地恋专属
```
- 📅 见面倒计时
  每天自动记录"第X天想你"
  
- 💌 每日一封信
  AI根据心情生成给对方的小情书
  
- 🗺️ 距离显示
  实时显示两人距离（可选）
  
- 📊 数据统计
  相处天数、异地天数、见面次数
```

### 4. AI能力核心

#### Prompt设计（重中之重）
```python
# 基础日记生成
"""
角色：你是一个温柔细腻的情感记录者
任务：将用户的简短记录扩写成感人的日记

输入：
- 记录内容：{content}
- 记录类型：{type}
- 用户性别：{gender}
- 对方昵称：{partner_name}
- 风格偏好：{style}

要求：
1. 保持真实感，不要过度修饰
2. 捕捉细节和情感
3. 字数300-500字
4. 结尾要有温暖的期待或感悟
5. 适当使用emoji（不超过3个）
"""

# 双视角合成
"""
任务：根据男女双方各自的记录，生成第三个"我们的视角"

输入：
- 女生记录：{her_diary}
- 男生记录：{his_diary}

输出：
一篇融合双方视角的共同日记，展现：
- 同一件事的不同感受
- 互相的关心和爱意
- 两个人一起的成长
"""

# 周年回忆录生成
"""
任务：基于过去一年的所有记录，生成精美的周年纪念册

输入：
- 所有日记（按时间排序）
- 重要时刻标记
- 照片集合

输出：
- 时间线叙事
- 关键节点高光
- 情感起伏分析
- 未来展望
- 生成章节标题
"""
```

---

## 技术架构

### 前端
**Flutter（跨平台，iOS + Android）**

核心页面：
1. 首页 - 时间轴/卡片流
2. 记录页 - 快速输入 + 相机
3. 日记详情 - 精美排版
4. 日历视图 - 月/年视图
5. 统计页 - 数据可视化
6. 设置页 - 情侣绑定/偏好设置

### 后端技术栈
```
方案A（推荐 - MVP快速）：
- Supabase（开源Firebase）
  ├── 认证系统
  ├── PostgreSQL数据库
  ├── 文件存储
  └── 实时订阅

- AI服务
  ├── 主力：通义千问（便宜，中文好）
  ├── 备用：Kimi/豆包
  └── 高端：GPT-4（周年纪念册等高价值场景）

方案B（长期 - 自建）：
- 后端：Python FastAPI / Node.js
- 数据库：PostgreSQL + Redis
- 存储：阿里云OSS
- 部署：Docker + 云服务器
```

### 数据库设计
```sql
-- 用户表
users (
  id, email, nickname, avatar, 
  gender, created_at
)

-- 情侣关系表
couples (
  id, user1_id, user2_id,
  anniversary_date, -- 纪念日
  status, -- active/pending
  created_at
)

-- 日记表（核心）
diaries (
  id, couple_id, creator_id,
  type, -- daily/highlight/anniversary/quarrel/travel
  raw_content, -- 用户输入的原始内容
  ai_content, -- AI生成的完整日记
  his_version, -- 男生视角
  her_version, -- 女生视角
  shared_version, -- 共同视角
  mood, tags, location,
  style_preference, -- 生成风格
  date, created_at
)

-- 照片表
photos (
  id, diary_id, url, 
  order, uploaded_at
)

-- 模板表（B端用）
templates (
  id, name, type, 
  prompt_template, 
  price, preview_url
)
```

---

## 产品亮点（与竞品差异）

### vs 小恩爱/恋爱记
❌ 他们：功能繁杂，社交属性强
✅ 我们：专注记录，AI是核心价值

### vs 传统日记App
❌ 他们：需要用户完整写作
✅ 我们：只需简短输入，AI帮你扩写

### vs ChatGPT直接用
❌ ChatGPT：每次都要重新描述背景
✅ 我们：记住你们的故事，生成更个性化

### 核心壁垒
1. **数据沉淀** - 用的越久，AI越懂你们
2. **双视角** - 不是单人日记，是情侣共同的故事
3. **场景化Prompt** - 不同场景不同处理
4. **精美输出** - 不只是文字，还有海报/视频/纪念册

---

## 商业模式

### C端（情侣用户）

**免费版**
- 每月10次AI生成
- 基础风格（温馨/真实）
- 最多3张照片/条
- 基础模板

**会员版（￥19.9/月 或 ￥168/年）**
- 无限AI生成
- 全部风格（诗意/搞笑/文艺等）
- 无限照片
- 高级模板
- 周年自动生成
- 数据导出（PDF/实体书）
- 无广告

**单次付费**
- 周年纪念册生成：￥68
- 实体书打印：￥199-399
- 精美视频生成：￥99

### B端（婚庆公司）

**SaaS服务**
- 婚庆公司订阅：￥999/月
- 包含20对新人额度
- 超出部分￥49/对

**单次定制**
- 婚礼爱情故事定制：￥399/对
- 包含：
  - 婚礼现场视频脚本
  - 请柬文案
  - 主持词素材
  - 精美纪念册

---

## MVP开发计划（4-6周）

### Week 1-2：核心功能
- [x] 用户注册登录
- [x] 情侣绑定
- [x] 基础记录（文字+图片）
- [x] AI日记生成（单一风格）
- [x] 日记列表展示

### Week 3-4：优化体验
- [x] 多种风格
- [x] 双视角生成
- [x] 日历视图
- [x] 照片管理
- [x] 分享功能

### Week 5-6：增值功能
- [x] 会员系统
- [x] 支付接入
- [x] 高光时刻模板
- [x] 数据导出
- [x] 倒计时widget

---

## 成本估算

### 开发成本
- 个人开发：4-6周全职
- 外包：￥2-3万

### 运营成本（月）
**MVP阶段（100用户）**
- 服务器：￥100
- 数据库：￥50（Supabase免费额度够用）
- AI调用：￥200-500
- 存储：￥50
**总计：￥400-700/月**

**增长阶段（1000用户）**
- 服务器：￥300
- 数据库：￥200
- AI调用：￥1500-3000
- 存储：￥200
- CDN：￥100
**总计：￥2300-3800/月**

### 盈利测算
**假设1000对情侣用户**
- 转化率10% → 100对会员
- ￥168/年 × 100 = ￥16,800/年
- 单次付费（周年）：50对 × ￥68 = ￥3,400
**年收入约：￥20,000**

**假设10个婚庆公司**
- ￥999/月 × 10 × 12 = ￥119,880/年
- 额外定制：50对 × ￥399 = ￥19,950
**年收入约：￥140,000**

---

## 风险与对策

### 风险1：AI成本过高
**对策**：
- 使用国产大模型（便宜）
- 缓存相似内容
- 会员限流

### 风险2：用户留存低
**对策**：
- 每日提醒
- 连续记录奖励
- 数据可视化（越用越有价值）

### 风险3：竞品模仿
**对策**：
- 快速迭代
- 建立用户社区
- 数据沉淀形成壁垒

---

## 下一步行动

1. **设计Prototype**（Figma，2天）
   - 核心页面流程
   - 视觉风格确定

2. **技术选型确认**（1天）
   - Flutter环境搭建
   - Supabase vs 自建后端
   - AI服务商选择

3. **开发MVP**（4周）
   - 先做C端情侣版本
   - 验证AI效果
   - 小范围测试（自己+10对情侣）

4. **迭代优化**（2周）
   - 根据反馈调整
   - 完善Prompt
   - 增加模板

5. **上线推广**
   - App Store + 应用宝
   - 小红书/抖音推广
   - 婚庆公司BD

