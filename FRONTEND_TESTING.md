# 🎨 前端设计测试指南

## 🚀 快速启动

### 1. 启动应用

```bash
cd /Users/wangshiwen/Desktop/workspace/diary_app
flutter run -d chrome
```

或者指定端口：
```bash
flutter run -d chrome --web-port=8080
```

### 2. 热重载快捷键

在Flutter运行时：
- `r` - 热重载（Hot Reload）
- `R` - 热重启（Hot Restart）
- `q` - 退出
- `h` - 帮助

---

## 🎯 测试清单

### 首页（Home Page）

- [ ] **布局检查**
  - [ ] AppBar显示正常
  - [ ] 日记列表显示
  - [ ] FloatingActionButton显示
  - [ ] 空状态提示显示

- [ ] **交互测试**
  - [ ] 点击创建按钮跳转到创建页面
  - [ ] 点击日记卡片进入详情页面
  - [ ] 左滑卡片显示删除按钮
  - [ ] 下拉刷新功能

- [ ] **视觉效果**
  - [ ] 卡片阴影和圆角
  - [ ] 光晕效果（GlowingCard）
  - [ ] 颜色主题正确
  - [ ] 字体大小合适

### 创建页面（Create Diary Page）

- [ ] **表单元素**
  - [ ] 内容输入框可用
  - [ ] 心情选择器显示5个选项
  - [ ] 风格选择器显示3个选项
  - [ ] 日期选择器正常

- [ ] **交互功能**
  - [ ] 选择心情高亮显示
  - [ ] 选择风格高亮显示
  - [ ] 点击日期可选择
  - [ ] AI生成按钮可点击
  - [ ] 保存按钮可用

- [ ] **视觉效果**
  - [ ] 选择器动画流畅
  - [ ] 按钮悬停效果
  - [ ] 输入框聚焦效果
  - [ ] 加载动画（Shimmer）

### 详情页面（Detail Page）

- [ ] **内容显示**
  - [ ] 日记内容完整显示
  - [ ] 日期和时间显示
  - [ ] 心情图标显示
  - [ ] Markdown格式正确

- [ ] **操作按钮**
  - [ ] 编辑按钮功能
  - [ ] 删除按钮功能
  - [ ] 分享按钮功能
  - [ ] 返回按钮功能

- [ ] **视觉效果**
  - [ ] Hero动画流畅
  - [ ] 页面过渡自然
  - [ ] 按钮图标清晰

### 编辑页面（Edit Page）

- [ ] **预填充数据**
  - [ ] 原内容显示在输入框
  - [ ] 原心情已选中
  - [ ] 原风格已选中
  - [ ] 原日期显示

- [ ] **编辑功能**
  - [ ] 可以修改内容
  - [ ] 可以更改心情
  - [ ] 可以更改风格
  - [ ] 保存后更新成功

### 设置页面（Settings Page）

- [ ] **主题切换**
  - [ ] 5个主题色显示
  - [ ] 点击切换主题
  - [ ] 主题实时生效

- [ ] **其他设置**
  - [ ] 设置项显示清晰
  - [ ] 开关功能正常

---

## 🎨 视觉测试要点

### 颜色主题

测试5个预设主题：

1. **Pink（粉色）** - 默认
   - Primary: `Color(0xFFFF6B9D)`
   - 温馨浪漫

2. **Green（绿色）**
   - Primary: `Color(0xFF66BB6A)`
   - 清新自然

3. **Yellow（黄色）**
   - Primary: `Color(0xFFFFCA28)`
   - 明亮活泼

4. **Blue（蓝色）**
   - Primary: `Color(0xFF42A5F5)`
   - 清爽宁静

5. **Black（黑色）**
   - Primary: `Color(0xFF424242)`
   - 简约优雅

### 字体样式

- [ ] **标题（Display Large）**: 32px, Bold
- [ ] **副标题（Headline Medium）**: 24px, SemiBold
- [ ] **正文（Body Large）**: 16px, 行高1.7
- [ ] **小文本（Body Medium）**: 14px, 行高1.6

### 圆角和间距

- [ ] **卡片圆角**: 20px
- [ ] **按钮圆角**: 16px
- [ ] **输入框圆角**: 16px
- [ ] **页面内边距**: 16-20px
- [ ] **元素间距**: 8-16px

### 动画效果

- [ ] **页面切换**: 淡入淡出 + 滑动
- [ ] **Hero动画**: 卡片放大
- [ ] **Shimmer加载**: 光泽扫过
- [ ] **按钮点击**: 缩放效果
- [ ] **选择器**: 高亮动画

---

## 🔧 调试技巧

### Flutter DevTools

1. 运行应用后，按 `v` 打开DevTools
2. 或访问：http://localhost:9100

**功能**：
- Widget树检查
- 性能分析
- 网络请求监控
- 日志查看

### 布局调试

在代码中添加：

```dart
// 显示布局网格
void main() {
  debugPaintSizeEnabled = true; // 显示边界
  debugPaintBaselinesEnabled = true; // 显示基线
  runApp(MyApp());
}
```

### 性能检查

```bash
# 性能模式运行
flutter run --profile

# 按 P 键查看性能叠加层
```

---

## 🐛 常见问题

### Q1: 页面不显示/白屏

**检查**：
1. 查看控制台错误
2. 检查main.dart是否正确初始化
3. 确认路由配置正确

### Q2: 颜色不对

**检查**：
1. `app_theme.dart` 主题配置
2. `colors.dart` 颜色定义
3. Material 3是否启用

### Q3: 布局错位

**检查**：
1. 使用Flutter Inspector查看布局
2. 检查Flex/Expanded使用
3. 确认约束条件

### Q4: 卡片点击无反应

**检查**：
1. InkWell/GestureDetector配置
2. onTap回调是否正确
3. 是否被其他Widget覆盖

### Q5: 字体太小/太大

**修改**：
1. 编辑 `app_theme.dart` 的 `textTheme`
2. 调整fontSize值
3. 热重载查看效果

---

## 📝 测试记录

### 测试环境
- Flutter版本: ___________
- 浏览器: Chrome / Safari / Firefox
- 屏幕分辨率: ___________
- 测试日期: ___________

### 发现的问题

| 问题描述 | 页面 | 严重性 | 状态 |
|---------|------|--------|------|
|         |      |        |      |
|         |      |        |      |

### 改进建议

1. ___________
2. ___________
3. ___________

---

## 🎯 优化建议

### 性能优化

- [ ] 使用const构造函数
- [ ] 避免不必要的重建
- [ ] 图片懒加载
- [ ] 列表虚拟滚动

### 用户体验

- [ ] 添加加载提示
- [ ] 错误提示友好
- [ ] 空状态引导
- [ ] 操作确认对话框

### 视觉优化

- [ ] 统一间距规范
- [ ] 优化颜色对比度
- [ ] 增强交互反馈
- [ ] 完善暗黑模式

---

## 📱 响应式测试

### 测试不同尺寸

在Chrome DevTools中：
1. 按 `Cmd/Ctrl + Shift + M` 切换设备模式
2. 测试以下尺寸：
   - [ ] iPhone SE (375x667)
   - [ ] iPhone 14 Pro (393x852)
   - [ ] iPad (768x1024)
   - [ ] Desktop (1920x1080)

### 检查项

- [ ] 文本不溢出
- [ ] 按钮大小合适
- [ ] 布局不错位
- [ ] 图片自适应

---

## 🎨 UI组件测试

### 自定义组件

1. **GlowingCard**
   - [ ] 光晕效果显示
   - [ ] 颜色渐变正确
   - [ ] 点击反馈

2. **MoodSelector**
   - [ ] 5个心情显示
   - [ ] 选中状态明显
   - [ ] 图标清晰

3. **StyleSelector**
   - [ ] 3个风格显示
   - [ ] 描述文字准确
   - [ ] 选中动画

4. **DiaryCard**
   - [ ] 内容预览清晰
   - [ ] 日期格式正确
   - [ ] 滑动删除流畅

5. **DiaryEditor**
   - [ ] 输入框高度自适应
   - [ ] 字数统计显示
   - [ ] Markdown提示

---

## 🚀 下一步

完成前端测试后：

1. ✅ 记录所有问题
2. ✅ 优化发现的UI问题
3. ✅ 调整配色和字体
4. ✅ 完善动画效果
5. ✅ 准备集成后端

---

**测试愉快！** 🎉

发现问题随时记录，持续优化体验。
